<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Focus Remix</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="popup-container">
      <header class="popup-header">
        <h1>ðŸŽ¯ Focus Remix</h1>
        <span class="status-indicator" id="statusIndicator">Ready</span>
      </header>

      <section class="ai-badge">
        <span class="ai-icon">âœ¨</span>
        <span>Powered by GPT-5.2</span>
      </section>

      <section class="recipe-selector">
        <h2>Choose a Recipe</h2>
        <div class="recipe-grid" id="recipeGrid">
          <!-- Recipes populated by JS -->
        </div>
      </section>

      <section class="image-toggle-section" id="imageToggleSection">
        <label class="image-toggle">
          <input type="checkbox" id="generateImages" />
          <span class="toggle-slider"></span>
          <span class="toggle-label">
            <span class="toggle-icon">ðŸŽ¨</span>
            Generate AI Images
          </span>
        </label>
        <p class="toggle-hint" id="imageHint">Add diagrams, illustrations, or backgrounds</p>
      </section>

      <section class="custom-prompt-section" id="customPromptSection" style="display: none;">
        <h2>Custom Instructions</h2>
        <textarea 
          id="customPrompt" 
          placeholder="Tell the AI how you want this page transformed...

Examples:
â€¢ Hide all images and focus on text
â€¢ Remove everything except the main article and code blocks
â€¢ Make it look like a minimal documentation page
â€¢ Add a hero image that captures the article theme"
        ></textarea>
      </section>

      <section class="explanation-section" id="explanationSection" style="display: none;">
        <h2>AI Explanation</h2>
        <p id="explanationText"></p>
      </section>

      <footer class="popup-footer">
        <button id="remixBtn" class="primary-btn">
          <span class="btn-icon">âœ¨</span>
          <span class="btn-text">Remix This Page</span>
        </button>
        <button id="removeBtn" class="secondary-btn" style="display: none;">
          Remove Remix
        </button>
      </footer>

      <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p id="loadingText">AI is analyzing the page...</p>
      </div>
    </div>

    <script type="module" src="popup.ts"></script>
  </body>
</html>
